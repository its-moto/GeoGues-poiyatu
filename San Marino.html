<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="GamePlayStyles.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <link rel="icon" href="Resource/logo-pin.png"> <!-- ページアイコン -->

    <script src="Resource/maplink/SMlinks.js"></script>
    <title>GeoPpoi - サン・マリノ</title>
    <div class="map-name">
        サン・マリノ
    </div>
</head>
<body>
    
	<audio loop id="bgm" preload="auto"></audio>
    <audio id="SoundEffect" preload="auto"></audio>

    <iframe id="streetview" src="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>

    <!-- ボタンを2つ表示するためのコンテナ -->
    <div class="button-container">
        <button onclick="showRandomStreetView()">Next Round🚩</button>
        <button onclick="showAnswer()">show answer</button>
        <br> <!-- Next Roundと戻るボタンの間にスペースを作る -->
        <button onclick="goBack()">戻る</button> <!-- 戻るボタンを追加 -->
        <button id="bgmButton">BGM:ON</button>
    </div>    
    <script>
        const bgm = document.getElementById("bgm");
        const button = document.getElementById("bgmButton");
        let isMuted = true;

        bgm.volume = 0.3; // 初期ボリュームを0.2に設定

        const bgmTracks = [
            "Resource/bgm/Track01.mp3",
            "Resource/bgm/Track02.mp3",
            "Resource/bgm/Track03.mp3",
            "Resource/bgm/Track04.mp3",
            "Resource/bgm/Track05.mp3",
            "Resource/bgm/Track06.mp3"
        ];

        const randomTrack = bgmTracks[Math.floor(Math.random() * bgmTracks.length)];
        bgm.src = randomTrack;

        button.addEventListener("click", () => {
            if (isMuted) {
                bgm.play();
                bgm.muted = false;
                button.textContent = "BGM:OFF";
                isMuted = false;
            } else {
                bgm.muted = true;
                button.textContent = "BGM:ON";
                isMuted = true;
            }
        });
    </script>

    <div id="map-container">
        <div id="map"></div> <!-- Leaflet地図の表示領域 -->
    </div>
    <button class="guess-button" onclick="guess()">guess</button>

    <div id="distance"><span id="distance-value">0km</span>, <span id="point-value">0</span> /5000 pt</div>
    <script src="SingleGamePlay.js"></script>
    <script src="cssanimation.js"></script>
</body>

</html>